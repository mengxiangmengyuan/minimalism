"use strict";

var KEY = {
	category: {
		statementExpendList: "@category_statement_expend@",
		statementIncomeList: "@category_statement_income@",
		expendList: "@category_expend_list@",
		incomeList: "@category_income_list@"
	},
	asset: {
		statementAssets: "@asset_statement@",
		list: "@asset_list@"
	},
	alreadyLogin: "@alreadyLogin@",
	login: 'weapp_login_session',
	bgImageKey: '@user_index_bg@',
	errorKey: '@request_error@',
	localStatementKey: '@local_statement_cache@'
};

module.exports = {
	key: KEY,

	get: function get(key) {
		return wx.getStorageSync(key) || null;
	},

	set: function set(key, value) {
		wx.setStorageSync(key, value);
	},

	clear: function clear(key) {
		wx.removeStorageSync(key);
	},

	// 排查为何频繁拉取失败
	pushError: function pushError(err) {
		var kV = wx.getStorageSync(KEY['errorKey']) || null;
		if (kV === null) {
			kV = [err];
		} else {
			kV.push(err);
		}
		wx.setStorageSync(KEY['errorKey'], kV);
	},

	getErrors: function getErrors() {
		return wx.getStorageSync(KEY['errorKey']) || null;
	},

	// 由于网络原因导致账单提交失败的一律先存储到缓存,下次再重新提交
	pushFailStatement: function pushFailStatement(statement) {
		var kV = wx.getStorageSync(KEY['localStatementKey']) || null;
		if (kV === null) {
			kV = [statement];
		} else {
			kV.push(statement);
		}
		wx.setStorageSync(KEY['localStatementKey'], kV);
	},

	getStatements: function getStatements() {
		return wx.getStorageSync(KEY['localStatementKey']) || null;
	},

	clearByKey: function clearByKey(item) {
		for (var obj in KEY) {
			if (obj == item) {
				for (var cacheKey in KEY[obj]) {
					wx.removeStorageSync(KEY[obj][cacheKey]);
				}
				return false;
			}
		}
	},


	clearAll: function clearAll() {
		wx.clearStorage();
	}
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlc3Npb24uanMiXSwibmFtZXMiOlsiS0VZIiwiY2F0ZWdvcnkiLCJzdGF0ZW1lbnRFeHBlbmRMaXN0Iiwic3RhdGVtZW50SW5jb21lTGlzdCIsImV4cGVuZExpc3QiLCJpbmNvbWVMaXN0IiwiYXNzZXQiLCJzdGF0ZW1lbnRBc3NldHMiLCJsaXN0IiwiYWxyZWFkeUxvZ2luIiwibG9naW4iLCJiZ0ltYWdlS2V5IiwiZXJyb3JLZXkiLCJsb2NhbFN0YXRlbWVudEtleSIsIm1vZHVsZSIsImV4cG9ydHMiLCJrZXkiLCJnZXQiLCJ3eCIsImdldFN0b3JhZ2VTeW5jIiwic2V0IiwidmFsdWUiLCJzZXRTdG9yYWdlU3luYyIsImNsZWFyIiwicmVtb3ZlU3RvcmFnZVN5bmMiLCJwdXNoRXJyb3IiLCJlcnIiLCJrViIsInB1c2giLCJnZXRFcnJvcnMiLCJwdXNoRmFpbFN0YXRlbWVudCIsInN0YXRlbWVudCIsImdldFN0YXRlbWVudHMiLCJjbGVhckJ5S2V5IiwiaXRlbSIsIm9iaiIsImNhY2hlS2V5IiwiY2xlYXJBbGwiLCJjbGVhclN0b3JhZ2UiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTUEsTUFBTTtBQUNYQyxXQUFVO0FBQ1RDLHVCQUFxQiw2QkFEWjtBQUVUQyx1QkFBcUIsNkJBRlo7QUFHVEMsY0FBWSx3QkFISDtBQUlUQyxjQUFZO0FBSkgsRUFEQztBQU9YQyxRQUFPO0FBQ05DLG1CQUFpQixtQkFEWDtBQUVOQyxRQUFNO0FBRkEsRUFQSTtBQVdYQyxlQUFjLGdCQVhIO0FBWVhDLFFBQU8scUJBWkk7QUFhWEMsYUFBWSxpQkFiRDtBQWNYQyxXQUFVLGlCQWRDO0FBZVhDLG9CQUFtQjtBQWZSLENBQVo7O0FBa0JBQyxPQUFPQyxPQUFQLEdBQWlCO0FBQ2hCQyxNQUFLaEIsR0FEVzs7QUFHaEJpQixNQUFLLGFBQVVELEdBQVYsRUFBZTtBQUNuQixTQUFPRSxHQUFHQyxjQUFILENBQWtCSCxHQUFsQixLQUEwQixJQUFqQztBQUNBLEVBTGU7O0FBT2hCSSxNQUFLLGFBQVVKLEdBQVYsRUFBZUssS0FBZixFQUFzQjtBQUMxQkgsS0FBR0ksY0FBSCxDQUFrQk4sR0FBbEIsRUFBdUJLLEtBQXZCO0FBQ0EsRUFUZTs7QUFXaEJFLFFBQU8sZUFBVVAsR0FBVixFQUFlO0FBQ3JCRSxLQUFHTSxpQkFBSCxDQUFxQlIsR0FBckI7QUFDQSxFQWJlOztBQWVoQjtBQUNBUyxZQUFXLG1CQUFTQyxHQUFULEVBQWM7QUFDeEIsTUFBSUMsS0FBS1QsR0FBR0MsY0FBSCxDQUFrQm5CLElBQUksVUFBSixDQUFsQixLQUFzQyxJQUEvQztBQUNBLE1BQUkyQixPQUFPLElBQVgsRUFBaUI7QUFDaEJBLFFBQUssQ0FBQ0QsR0FBRCxDQUFMO0FBQ0EsR0FGRCxNQUVPO0FBQ05DLE1BQUdDLElBQUgsQ0FBUUYsR0FBUjtBQUNBO0FBQ0RSLEtBQUdJLGNBQUgsQ0FBa0J0QixJQUFJLFVBQUosQ0FBbEIsRUFBbUMyQixFQUFuQztBQUNBLEVBeEJlOztBQTBCaEJFLFlBQVcscUJBQVc7QUFDckIsU0FBT1gsR0FBR0MsY0FBSCxDQUFrQm5CLElBQUksVUFBSixDQUFsQixLQUFzQyxJQUE3QztBQUNBLEVBNUJlOztBQThCaEI7QUFDQThCLG9CQUFtQiwyQkFBU0MsU0FBVCxFQUFvQjtBQUN0QyxNQUFJSixLQUFLVCxHQUFHQyxjQUFILENBQWtCbkIsSUFBSSxtQkFBSixDQUFsQixLQUErQyxJQUF4RDtBQUNBLE1BQUkyQixPQUFPLElBQVgsRUFBaUI7QUFDaEJBLFFBQUssQ0FBQ0ksU0FBRCxDQUFMO0FBQ0EsR0FGRCxNQUVPO0FBQ05KLE1BQUdDLElBQUgsQ0FBUUcsU0FBUjtBQUNBO0FBQ0RiLEtBQUdJLGNBQUgsQ0FBa0J0QixJQUFJLG1CQUFKLENBQWxCLEVBQTRDMkIsRUFBNUM7QUFDQSxFQXZDZTs7QUF5Q2hCSyxnQkFBZSx5QkFBVztBQUN6QixTQUFPZCxHQUFHQyxjQUFILENBQWtCbkIsSUFBSSxtQkFBSixDQUFsQixLQUErQyxJQUF0RDtBQUNBLEVBM0NlOztBQTZDaEJpQyxXQTdDZ0Isc0JBNkNKQyxJQTdDSSxFQTZDRTtBQUNqQixPQUFJLElBQUlDLEdBQVIsSUFBZW5DLEdBQWYsRUFBb0I7QUFDbkIsT0FBSW1DLE9BQU9ELElBQVgsRUFBaUI7QUFDaEIsU0FBSSxJQUFJRSxRQUFSLElBQW9CcEMsSUFBSW1DLEdBQUosQ0FBcEIsRUFBOEI7QUFDN0JqQixRQUFHTSxpQkFBSCxDQUFxQnhCLElBQUltQyxHQUFKLEVBQVNDLFFBQVQsQ0FBckI7QUFDQTtBQUNELFdBQU8sS0FBUDtBQUNBO0FBQ0Q7QUFDRCxFQXREZTs7O0FBd0RmQyxXQUFVLG9CQUFXO0FBQ25CbkIsS0FBR29CLFlBQUg7QUFDRDtBQTFEYyxDQUFqQiIsImZpbGUiOiJzZXNzaW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgS0VZID0ge1xuXHRjYXRlZ29yeToge1xuXHRcdHN0YXRlbWVudEV4cGVuZExpc3Q6IFwiQGNhdGVnb3J5X3N0YXRlbWVudF9leHBlbmRAXCIsXG5cdFx0c3RhdGVtZW50SW5jb21lTGlzdDogXCJAY2F0ZWdvcnlfc3RhdGVtZW50X2luY29tZUBcIixcblx0XHRleHBlbmRMaXN0OiBcIkBjYXRlZ29yeV9leHBlbmRfbGlzdEBcIixcblx0XHRpbmNvbWVMaXN0OiBcIkBjYXRlZ29yeV9pbmNvbWVfbGlzdEBcIlxuXHR9LFxuXHRhc3NldDoge1xuXHRcdHN0YXRlbWVudEFzc2V0czogXCJAYXNzZXRfc3RhdGVtZW50QFwiLFxuXHRcdGxpc3Q6IFwiQGFzc2V0X2xpc3RAXCJcblx0fSxcblx0YWxyZWFkeUxvZ2luOiBcIkBhbHJlYWR5TG9naW5AXCIsXG5cdGxvZ2luOiAnd2VhcHBfbG9naW5fc2Vzc2lvbicsXG5cdGJnSW1hZ2VLZXk6ICdAdXNlcl9pbmRleF9iZ0AnLFxuXHRlcnJvcktleTogJ0ByZXF1ZXN0X2Vycm9yQCcsXG5cdGxvY2FsU3RhdGVtZW50S2V5OiAnQGxvY2FsX3N0YXRlbWVudF9jYWNoZUAnXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHRrZXk6IEtFWSxcblxuXHRnZXQ6IGZ1bmN0aW9uIChrZXkpIHtcblx0XHRyZXR1cm4gd3guZ2V0U3RvcmFnZVN5bmMoa2V5KSB8fCBudWxsO1xuXHR9LFxuXG5cdHNldDogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcblx0XHR3eC5zZXRTdG9yYWdlU3luYyhrZXksIHZhbHVlKTtcblx0fSxcblxuXHRjbGVhcjogZnVuY3Rpb24gKGtleSkge1xuXHRcdHd4LnJlbW92ZVN0b3JhZ2VTeW5jKGtleSk7XG5cdH0sXG5cdFxuXHQvLyDmjpLmn6XkuLrkvZXpopHnuYHmi4nlj5blpLHotKVcblx0cHVzaEVycm9yOiBmdW5jdGlvbihlcnIpIHtcblx0XHRsZXQga1YgPSB3eC5nZXRTdG9yYWdlU3luYyhLRVlbJ2Vycm9yS2V5J10pIHx8IG51bGxcblx0XHRpZiAoa1YgPT09IG51bGwpIHtcblx0XHRcdGtWID0gW2Vycl1cblx0XHR9IGVsc2Uge1xuXHRcdFx0a1YucHVzaChlcnIpXG5cdFx0fVxuXHRcdHd4LnNldFN0b3JhZ2VTeW5jKEtFWVsnZXJyb3JLZXknXSwga1YpXG5cdH0sXG5cblx0Z2V0RXJyb3JzOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gd3guZ2V0U3RvcmFnZVN5bmMoS0VZWydlcnJvcktleSddKSB8fCBudWxsO1xuXHR9LFxuXG5cdC8vIOeUseS6jue9kee7nOWOn+WboOWvvOiHtOi0puWNleaPkOS6pOWksei0peeahOS4gOW+i+WFiOWtmOWCqOWIsOe8k+WtmCzkuIvmrKHlho3ph43mlrDmj5DkuqRcblx0cHVzaEZhaWxTdGF0ZW1lbnQ6IGZ1bmN0aW9uKHN0YXRlbWVudCkge1xuXHRcdGxldCBrViA9IHd4LmdldFN0b3JhZ2VTeW5jKEtFWVsnbG9jYWxTdGF0ZW1lbnRLZXknXSkgfHwgbnVsbFxuXHRcdGlmIChrViA9PT0gbnVsbCkge1xuXHRcdFx0a1YgPSBbc3RhdGVtZW50XVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRrVi5wdXNoKHN0YXRlbWVudClcblx0XHR9XG5cdFx0d3guc2V0U3RvcmFnZVN5bmMoS0VZWydsb2NhbFN0YXRlbWVudEtleSddLCBrVilcblx0fSxcblxuXHRnZXRTdGF0ZW1lbnRzOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gd3guZ2V0U3RvcmFnZVN5bmMoS0VZWydsb2NhbFN0YXRlbWVudEtleSddKSB8fCBudWxsO1xuXHR9LFxuXG5cdGNsZWFyQnlLZXkgKGl0ZW0pIHtcblx0XHRmb3IobGV0IG9iaiBpbiBLRVkpIHtcblx0XHRcdGlmIChvYmogPT0gaXRlbSkge1xuXHRcdFx0XHRmb3IobGV0IGNhY2hlS2V5IGluIEtFWVtvYmpdKSB7XG5cdFx0XHRcdFx0d3gucmVtb3ZlU3RvcmFnZVN5bmMoS0VZW29ial1bY2FjaGVLZXldKVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWxzZVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0XG4gIGNsZWFyQWxsOiBmdW5jdGlvbigpIHtcbiAgICB3eC5jbGVhclN0b3JhZ2UoKVxuICB9XG59OyJdfQ==